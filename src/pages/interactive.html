<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../styles/interactive.css">
</head>

<body>

    <h3>Descubre una historia llena de fantasia y surrealismo:</h3>

    <main class="main">
        <div class="aiContainer" id="aiContainer">
            <!-- <svg class="loader loader_image" viewBox="0 0 384 384" xmlns="http://www.w3.org/2000/svg">
                <circle
                    class="active"
                    pathLength="360"
                    fill="transparent"
                    stroke-width="32"
                    cx="192"
                    cy="192"
                    r="176"
                ></circle>
                <circle
                    class="track"
                    pathLength="360"
                    fill="transparent"
                    stroke-width="32"
                    cx="192"
                    cy="192"
                    r="176"
                ></circle>
                
            </svg> -->

            <!-- <img class="aiImage"
                src="https://static.nationalgeographic.es/files/styles/image_3200/public/nationalgeographic_1468962.webp?w=1600&h=900"
                alt=""> -->


            <div class="textAiContainer spinner" id="textAiContainer">

                <svg id="spinner" class="loader" viewBox="0 0 384 384" xmlns="http://www.w3.org/2000/svg">
                    <circle class="active" pathLength="360" fill="transparent" stroke-width="32" cx="192" cy="192"
                        r="176"></circle>
                    <circle class="track" pathLength="360" fill="transparent" stroke-width="32" cx="192" cy="192"
                        r="176"></circle>
                </svg>
            </div>

        </div>


        <form class="controls" id="time-control">

            <label class="option">
                <input type="radio" value="past" name="selection" hidden checked>
                <span>Pasado</span>
                <svg class="time-svg" fill="#ffffff" viewBox="0 0 24 24" id="Outline" xmlns="http://www.w3.org/2000/svg"
                    style="--darkreader-inline-fill: var(--darkreader-background-ffffff, #181a1b);"
                    data-darkreader-inline-fill="">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <title>194 restore</title>
                        <path
                            d="M12,6a1,1,0,0,0-1,1v5a1,1,0,0,0,.293.707l3,3a1,1,0,0,0,1.414-1.414L13,11.586V7A1,1,0,0,0,12,6Z M23.812,10.132A12,12,0,0,0,3.578,3.415V1a1,1,0,0,0-2,0V5a2,2,0,0,0,2,2h4a1,1,0,0,0,0-2H4.827a9.99,9.99,0,1,1-2.835,7.878A.982.982,0,0,0,1,12a1.007,1.007,0,0,0-1,1.1,12,12,0,1,0,23.808-2.969Z">
                        </path>
                    </g>
                </svg>
            </label>

            <label class="option">
                <input type="radio" value="present" name="selection" hidden>
                <span>Presente</span>
                <svg class="time-svg" fill="#ffffff" viewBox="0 0 24 24" id="Layer_1" data-name="Layer 1"
                    xmlns="http://www.w3.org/2000/svg"
                    style="--darkreader-inline-fill: var(--darkreader-background-ffffff, #181a1b);"
                    data-darkreader-inline-fill="">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <path
                            d="M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0ZM22,12a10,10,0,0,1-.186,1.9l-1.932-.58a7.442,7.442,0,0,0,0-2.64l1.932-.58A10,10,0,0,1,22,12Zm-.76-3.816-1.93.579A8.048,8.048,0,0,0,15.237,4.69l.579-1.93A10.058,10.058,0,0,1,21.24,8.184ZM12,18a6,6,0,1,1,6-6A6.006,6.006,0,0,1,12,18ZM13.9,2.186l-.58,1.932a7.442,7.442,0,0,0-2.64,0L10.1,2.186a9.8,9.8,0,0,1,3.8,0ZM8.184,2.76l.579,1.93A8.048,8.048,0,0,0,4.69,8.763L2.76,8.184A10.058,10.058,0,0,1,8.184,2.76ZM2,12a10,10,0,0,1,.186-1.9l1.932.58a7.442,7.442,0,0,0,0,2.64l-1.932.58A10,10,0,0,1,2,12Zm.76,3.816,1.93-.579A8.048,8.048,0,0,0,8.763,19.31l-.579,1.93A10.058,10.058,0,0,1,2.76,15.816Zm7.34,6,.58-1.932a7.442,7.442,0,0,0,2.64,0l.58,1.932a9.8,9.8,0,0,1-3.8,0Zm5.716-.575-.579-1.929a8.048,8.048,0,0,0,4.073-4.073l1.93.579A10.053,10.053,0,0,1,15.816,21.239ZM14.631,10.892a1.848,1.848,0,0,1,0,2.216l-1.893,2.523a.922.922,0,0,1-1.476,0L9.369,13.108a1.848,1.848,0,0,1,0-2.216l1.893-2.523a.922.922,0,0,1,1.476,0Z">
                        </path>
                    </g>
                </svg>

            </label>

            <label class="option">
                <input type="radio" value="future" name="selection" hidden>
                <span>Futuro</span>
                <svg class="time-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                    stroke="#ffffff" style="--darkreader-inline-stroke: var(--darkreader-text-ffffff, #e8e6e3);"
                    data-darkreader-inline-stroke="">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC"
                        stroke-width="0.768" style="--darkreader-inline-stroke: var(--darkreader-text-cccccc, #c8c3bc);"
                        data-darkreader-inline-stroke=""></g>
                    <g id="SVGRepo_iconCarrier">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M1 12C1 6.47715 5.47715 2 11 2C16.3868 2 20.7788 6.25933 20.9919 11.5939L22.2929 10.2929C22.6834 9.90237 23.3166 9.90237 23.7071 10.2929C24.0976 10.6834 24.0976 11.3166 23.7071 11.7071L20.7071 14.7071C20.5196 14.8946 20.2652 15 20 15C19.7348 15 19.4804 14.8946 19.2929 14.7071L16.2929 11.7071C15.9024 11.3166 15.9024 10.6834 16.2929 10.2929C16.6834 9.90237 17.3166 9.90237 17.7071 10.2929L18.9889 11.5747C18.7678 7.35413 15.2756 4 11 4C6.58172 4 3 7.58172 3 12C3 16.4183 6.58172 20 11 20C13.5127 20 15.7544 18.8427 17.2226 17.0283C17.57 16.599 18.1997 16.5326 18.629 16.88C19.0584 17.2274 19.1248 17.8571 18.7774 18.2864C16.9457 20.5499 14.1418 22 11 22C5.47715 22 1 17.5228 1 12ZM12 6C12 5.44772 11.5523 5 11 5C10.4477 5 10 5.44772 10 6V12C10 12.2652 10.1054 12.5196 10.2929 12.7071L13.2929 15.7071C13.6834 16.0976 14.3166 16.0976 14.7071 15.7071C15.0976 15.3166 15.0976 14.6834 14.7071 14.2929L12 11.5858V6Z"
                            fill="#ffffff"
                            style="--darkreader-inline-fill: var(--darkreader-background-ffffff, #181a1b);"
                            data-darkreader-inline-fill=""></path>
                    </g>
                </svg>

            </label>

            <div class="option copy-button" id="copy-button">
                Copy
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z" />
                </svg>
            </div>

        </form>

        <!-- ?Loader -->

        <!-- <svg class="loader" viewBox="0 0 384 384" xmlns="http://www.w3.org/2000/svg">
  <circle
    class="active"
    pathLength="360"
    fill="transparent"
    stroke-width="32"
    cx="192"
    cy="192"
    r="176"
  ></circle>
  <circle
    class="track"
    pathLength="360"
    fill="transparent"
    stroke-width="32"
    cx="192"
    cy="192"
    r="176"
  ></circle>
</svg> -->

    </main>

    <div id="expanding-box" class="box">
        <svg class="lightbulb" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round"
                d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18" />
        </svg>

        <p class="hidden boxTitle">Formulario de linea del tiempo:</p>

        <p class="hidden">La página <code>interactive.html</code> es parte del proyecto ProyectoJS2 y está diseñada para
            mostrar una presentación interactiva de una localidad de España. Utiliza servicios de IA para generar
            descripciones e imágenes de la localidad en diferentes momentos del tiempo (pasado, presente y futuro).
            Además, permite la narración de las descripciones utilizando la API de Speech del navegador.</p>

        <h2 class="hidden">1. Estructura del Documento:</h2>
        <ul class="hidden margin-left">
            <li class="hidden">La estructura del archivo incluye diversos servicios de inteligencia artificial que se
                encargan de generar contenido en tiempo real, así como controles interactivos para mostrar y narrar el
                contenido.</li>
            <li class="hidden">El flujo principal de la página depende de la interacción del usuario con los controles
                para elegir entre diferentes momentos del tiempo (pasado, presente y futuro) y la generación de
                contenido relacionado.</li>
            <li class="hidden">Los servicios utilizados incluyen:</li>
            <ul class="hidden margin-left">
                <li class="hidden">MultimediaAIService: Genera imágenes relacionadas con la localidad.</li>
                <li class="hidden">TextAIService: Genera descripciones textuales para cada momento en el tiempo.</li>
                <li class="hidden">VoiceService: Lee las descripciones en voz alta utilizando la API de Speech.</li>
                <li class="hidden">ImageAPIService: Gestión de la carga y visualización de imágenes.</li>
                <li class="hidden">CookiesService: Maneja las cookies del navegador para almacenar claves necesarias
                    para los servicios.</li>
            </ul>
        </ul>

        <h2 class="hidden">2. Flujo de Ejecución:</h2>
        <ul class="hidden margin-left">
            <li class="hidden">Al cargar la página, se inicializan todos los servicios necesarios y se recuperan los
                valores de configuración de la localidad y las preferencias de voz del usuario desde el almacenamiento
                local.</li>
            <li class="hidden">Cuando el usuario selecciona un momento en el tiempo, se activan las funciones
                correspondientes para generar una descripción y una imagen para ese tiempo. Además, la descripción es
                leída en voz alta.</li>
            <li class="hidden">Se utiliza un botón para copiar el texto generado al portapapeles, con una animación
                visual para indicar que la acción fue realizada.</li>
            <li class="hidden">Los elementos generados (descripción e imagen) se insertan en el DOM de la página de
                manera dinámica, y la interfaz se actualiza según la selección del usuario.</li>
        </ul>

        <h2 class="hidden">3. Funciones Importantes:</h2>
        <ul class="hidden margin-left">
            <li class="hidden"><code>Init()</code>: Inicializa los eventos y configura la página al cargar.</li>
            <li class="hidden"><code>timeHandler(e)</code>: Maneja el cambio de selección entre los diferentes momentos
                (pasado, presente, futuro) y llama a las funciones correspondientes para actualizar la página.</li>
            <li class="hidden"><code>insertElements(time)</code>: Inserta la descripción generada por el servicio de IA
                en el DOM y maneja la narración de la misma a través del servicio de voz.</li>
            <li class="hidden"><code>insertImage(time)</code>: Inserta la imagen generada por el servicio de multimedia
                en el DOM, mostrando un indicador de carga mientras se obtiene la imagen.</li>
            <li class="hidden"><code>CopyHandler(e)</code>: Maneja la acción de copiar la descripción al portapapeles.
            </li>
        </ul>

        <h2 class="hidden">4. Propiedades Importantes:</h2>
        <ul class="hidden margin-left">
            <li class="hidden"><code>population</code>: Representa la localidad o población seleccionada para la
                presentación.</li>
            <li class="hidden"><code>voice</code>: La voz seleccionada para la narración del texto.</li>
            <li class="hidden"><code>speed</code>: La velocidad con la que se lee el texto.</li>
            <li class="hidden"><code>aiState</code>: Objeto que guarda el estado de las descripciones y las imágenes
                para cada momento en el tiempo (pasado, presente, futuro).</li>
            <li class="hidden"><code>textAiService</code>, <code>multimediaAIService</code>, <code>voiceService</code>:
                Servicios utilizados para generar los contenidos de texto, imagen y voz respectivamente.</li>
        </ul>

    </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script type="module" src="../features/interactive/interactive.js"></script>
</body>

</html>