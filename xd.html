<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speech Synthesis Voices</title>
</head>
<body>
    <h1>Speech Synthesis Voices</h1>
    <label for="voiceSelect">Selecciona una voz:</label>
    <select id="voiceSelect"></select>
    <button id="speakButton">Hablar</button>

    <script>
        const synth = window.speechSynthesis;
        const voiceSelect = document.getElementById('voiceSelect');
        const speakButton = document.getElementById('speakButton');

        function populateVoiceList() {
            const voices = synth.getVoices();
            voiceSelect.innerHTML = ''; // Limpiar opciones

            voices.forEach((voice, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = `${voice.name} (${voice.lang})${voice.default ? ' — DEFAULT' : ''}`;
                voiceSelect.appendChild(option);
            });
        }

        // Asegurarse de que las voces estén cargadas
        if (synth.onvoiceschanged !== undefined) {
            synth.onvoiceschanged = populateVoiceList;
        }


        speakButton.addEventListener('click', () => {
            const selectedVoiceIndex = voiceSelect.value;
            const voices = synth.getVoices();

            if (voices.length > 0) {
                const utterance = new SpeechSynthesisUtterance("Hola, ¿cómo estás?");
                utterance.voice = voices[selectedVoiceIndex];
                utterance.rate = 1;   // Velocidad normal
                utterance.pitch = 1;  // Tono normal
                utterance.volume = 1; // Volumen máximo

                synth.speak(utterance);
            } else {
                alert('No hay voces disponibles. Intenta recargar la página.');
            }
        });

        // Llamar a la función para cargar las voces
        populateVoiceList();

    </script>
</body>
</html>
